<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الأفران الحرارية - إيجي تل</title>
    <link href="../css/main.css" rel="stylesheet">
    <link href="../css/home/slider.css" rel="stylesheet">
    <link href="../css/home/products.css" rel="stylesheet">
    <link href="../css/home/about.css" rel="stylesheet">
    <link href="/css/header.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
<!-- Navigation Bar -->
<Header>
    <nav class="navbar">
        <div class="logo">
            <img alt="Logo" src="../assets/c_logo/logo.png">
        </div>
        <div class="nav-links">
            <a href="../index.html">الرئيسية</a>
            <a href="about.html">من نحن</a>
            <a href="contact.html">تواصل معنا</a>
            <ul style="list-style: none;">
                <li class="dropdown">

                    <a class="dropbtn" href="#" onclick="toggleDropdown(event)">معرض المنتجات<i class="fas fa-caret-down"></i></a>

                    <div class="dropdown-content">
                        <a data-category="c-ovens" data-index="0" href="products.html" class="product-link">الأفران الحرارية</a>
                        <a data-category="p-ovens" data-index="1" href="products.html" class="product-link">افرن بيتزا</a>
                        <a data-category="fridges" data-index="2" href="products.html" class="product-link">الثلاجات</a>
                        <a data-category="refrigerator" data-index="3" href="products.html" class="product-link">ثلاجات تحت الطاولة</a>
                        <a data-category="dishwashers" data-index="4" href="products.html" class="product-link">غسالات الأطباق</a>
                        <a data-category="ice-machine" data-index="5" href="products.html" class="product-link">ماكينة الثلج</a>
                        <a data-category="bar-equipments" data-index="6" href="products.html" class="product-link">معدات البار</a>
                        <a data-category="bakery-equipments" data-index="7" href="products.html" class="product-link">معدات المخابز</a>
                        <a data-category="processing-equipment" data-index="8" href="products.html" class="product-link">معدات التجهيز</a>
                        <a data-category="stoves" data-index="9" href="products.html" class="product-link">بوتاجازات</a>
                    </div>
                </li>
            </ul>
        </div>
        <div class="nav-buttons">
            <button class="search-btn"><i class="fas fa-search"></i></button>
            <button class="lang-btn">الكتالوج</button>
        </div>
    </nav>
</Header>

<!-- Main Content -->
<main class="products-main">
    <div id="productTitle"></div>
    <div class="products-grid" id="productList">
        <!-- Products will be loaded here -->
    </div>
</main>

<!-- Footer -->
<footer class="footer">
    <div class="footer-container">
        <!-- Social Media Icons -->
        <div class="social-icons">
            <a class="social-icon" href="https://www.tiktok.com/@sayed.m7mod?_t=ZS-8tUzmNUx6wx&_r=1" aria-label="تيك توك" target="_blank"><i class="fa-brands fa-tiktok"></i></a>
            <a class="social-icon" href="https://wa.me/message/MXZP62ZK6RCVF1" aria-label="واتساب" target="_blank"><i class="fa-brands fa-whatsapp"></i></a>
            <a class="social-icon" href="https://www.instagram.com/t_arget45" aria-label="إنستجرام" target="_blank"><i class="fa-brands fa-instagram"></i></a>
            <a class="social-icon" href="https://www.facebook.com/target.alharam?rdid=iIG9DscuHMqDeiR6&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2F19myNZZiRW%2F#" aria-label="فيسبوك" target="_blank"><i class="fa-brands fa-facebook-f"></i></a>
        </div>
        <!-- Navigation Links -->
        <div class="footer-links">
            <a href="index.html">الرئيسية</a>
            <a href="pages/about.html">من نحن</a>
            <a href="pages/contact.html">تواصل معنا</a>
        </div>
    </div>
</footer>

<script>
    // Function to handle dropdown toggle
    function toggleDropdown(event) {
        event.preventDefault();
        const dropdownContent = event.target.nextElementSibling;
        dropdownContent.classList.toggle('show');

        const otherDropdowns = document.querySelectorAll('.dropdown-content');
        otherDropdowns.forEach(content => {
            if (content !== dropdownContent) {
                content.classList.remove('show');
            }
        });
    }

    // Handle clicks outside dropdown
    window.onclick = function(event) {
        if (!event.target.matches('.dropbtn')) {
            const dropdowns = document.querySelectorAll('.dropdown-content');
            dropdowns.forEach(dropdown => {
                if (dropdown.classList.contains('show')) {
                    dropdown.classList.remove('show');
                }
            });
        }
    }

    // Add event listeners for category selection
    document.addEventListener('DOMContentLoaded', function() {
        const productLinks = document.querySelectorAll('.dropdown-content .product-link');

        productLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();

                // Get category and index from data attributes
                const category = this.getAttribute('data-category');
                const index = this.getAttribute('data-index');

                // Store in localStorage
                localStorage.setItem('selectedCategory', category);

                console.log(`Selected category: ${category}`);
                console.log(`Index: ${index}`);

                // Close dropdown
                const dropdowns = document.querySelectorAll('.dropdown-content');
                dropdowns.forEach(dropdown => {
                    dropdown.classList.remove('show');
                });

                // Navigate to products page
                window.location.href = this.href;
            });
        });
    });

    // Optional: Function to get current category
    function getCurrentCategory() {
        return localStorage.getItem('selectedCategory') || 'c-ovens'; // Default to c-ovens if none selected
    }

    // Optional: Function to update dropdown button text
    function updateDropdownText() {
        const currentCategory = getCurrentCategory();
        const categories = {
            'c-ovens': 'الأفران الحرارية',
            'p-ovens': 'افرن بيتزا',
            'fridges': 'الثلاجات',
            'refrigerator': 'ثلاجات تحت الطاولة',
            'dishwashers': 'غسالات الأطباق',
            'ice-machine': 'ماكينة الثلج',
            'bar-equipments': 'معدات البار',
            'bakery-equipments': 'معدات المخابز',
            'processing-equipment': 'معدات التجهيز',
            'stoves': 'بوتاجازات',
            'display-refrigerators': 'ثلاجات عرض'
        };

        const dropbtn = document.querySelector('.dropbtn');
        if (dropbtn && categories[currentCategory]) {
            dropbtn.textContent = `معرض المنتجات - ${categories[currentCategory]}`;
        }
    }

    // Initialize dropdown state
    document.addEventListener('DOMContentLoaded', function() {
        // Update dropdown text if on products page
        if (window.location.href.includes('products.html')) {
            updateDropdownText();
        }
    });
</script>
<script defer src="../js/products.js"></script>
</body>
</html>